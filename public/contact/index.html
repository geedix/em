<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="contact Em Dash: email, phone. Glenn Ellen, California">
    <title>em dash - contact</title>

    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link href="https://fonts.googleapis.com/css2?family=EB+Garamond:ital@0;1&display=swap" rel="stylesheet"  />
    <link rel="stylesheet" href="../emstyle2.css">
    <link rel="icon" type="image/svg+xml" href="../images/favicon.ico?v=2">
    <link rel="icon" type="image/png" href="../images/favicon-196x196.png?v=2" sizes="196x196" />
    <link rel="icon" type="image/png" href="../images/favicon-96x96.png?v=2" sizes="96x96" />
    <link rel="icon" type="image/png" href="../images/favicon-32x32.png?v=2" sizes="32x32" />
    <link rel="icon" type="image/png" href="../images/favicon-16x16.png?v=2" sizes="16x16" />
    <link rel="icon" type="image/png" href="../images/favicon-128.png?v=2" sizes="128x128" />
    

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/gsap.min.js"></script>
    
    

</head>
<body class='contact'>

    
    <div class="wrapper">
    <div class="main" id="topper">
        <div class="bigimg">
            <!-- <p>contact</p> -->
            <img src='../images/contact_img_2x.jpg' alt='em dash in type' id="contactimage">
    
            <div class="contactText">
    
                <p>
                    <span>email</span><br>
                    <a href="mailto:info@emdash.com?subject=Web%20Inquiry">info<span class="atsign">@</span>emdash.com</a>
                </p>
                <p>
                    <span>phone</span><br>
                    415.730.6408
                </p>
                <p class="glen">
                    <!-- <span>address</span><br> -->
                  Glen&nbsp;Ellen,&nbsp;California
                </p>
    
            </div>
        </div>

    </div> 

    <header>
    <div id="topbar">
        <div class="topnav">
            <div class="nbigimg">
            
                <ul class="navmenu" id="theMenu">
                    <li id="home" onclick='goHome()'><a href="#/">home</a></li>
                    <li id="about"><a href="/about/">about</a></li>
                    <li id="contact"><a href="/contact/">contact</a></li>
                </ul>
                <a href="#/" onclick='goHome()'> <img src="../images/emdash_lockup0212.svg" alt="emdash" id='logo'></a>
                <div class="hamburger" onclick="toggleburger();">
                    <div class="openlines">
                            <img src="../images/hamburger.svg" alt="burger">
                    </div>
                    <div class="closex">
                        <img src="../images/close.svg" alt="close">
                    </div>
                </div>
        </div>
    </div>
  </header>
  <script>
    let burgOpen= true,
        menuTarg,
        navOffset = 48,
        winWidth = window.innerWidth,
        navwidth = document.getElementById('theMenu').clientWidth;

////////////////////////   resize debouncer
let timeoutId = false, // holder for timeout id
    delay = 250, // delay after event is "complete" to run callback
    calls = 0;
    // logText=document.getElementById('logText')

// window.resize callback function
function getinnerWidth() {
    // logText.innerHTML = window.innerWidth;
    // if burger is open, navmenu is closed. otherwise, reposition
    findTarg();
    if(!burgOpen){
        // positionNav();
        gsap.to(".navmenu", {autoAlpha: 1, x:menuTarg, duration: 0.3});
    }
}
// window.resize event listener
window.addEventListener('resize', function() {
    clearTimeout(timeoutId);
  // start timing for event "completion"
    timeoutId = setTimeout(getinnerWidth, delay);
});

function goHome(){
    if (document.body.classList.contains('home')) {
        return false;
    }
    else{        
        gsap.to(".main", {opacity:0, duration: .5});
        navwidth = document.getElementById('theMenu').clientWidth;
        // gsap.to(".navmenu", {opacity:0, x:winWidth-navwidth, ease: "power3.in", delay:.2, duration: .35, onComplete:getHome});   
        gsap.to(".navmenu", {opacity:0, x:"+=60", ease:"power3.in", delay:.2, duration: .35, onComplete:getHome});         
    }
}
    function getHome(){
        window.location.href = '/';
    }
    function findTarg(){
        winWidth=window.innerWidth;
        navwidth = document.getElementById('theMenu').clientWidth;
        navOffset=48;
        
        menuTarg= Math.floor(winWidth-(navwidth+navOffset));
        if(menuTarg>598){
            menuTarg=598;
        }
    }
    findTarg();

    function positionNav(){
        navwidth = document.getElementById('theMenu').clientWidth;
        gsap.fromTo(".navmenu", {autoAlpha: 0, x:menuTarg+60}, {autoAlpha: 1, x:menuTarg, duration: 0.3});
    }
    function toggleburger(){
         
        findTarg();

        if(burgOpen){
            // open menu 
            burgOpen=false;
            gsap.to(".openlines", {opacity:0, duration: .24});
            gsap.to(".closex", {opacity:1, duration: .24});

            positionNav();
        }
        else{
            // close menu 
            findTarg();
            burgOpen=true;
            navwidth = document.getElementById('theMenu').clientWidth;
            gsap.to(".openlines", {opacity:1, duration: .22});
            gsap.to(".closex", {opacity:0, duration:.22});
            gsap.to(".navmenu", {opacity:0, x:"+=60", ease:"power3.in", duration: .3});
        }
    }

    let homebtn = document.getElementById('home');
    let aboutbtn = document.getElementById('about');
    let contactbtn = document.getElementById('contact');
    
    const CurrentUrl = window.location.href.toString();

    // not leaving navmenu open to start home page. Only sub pages now.

    if (CurrentUrl.indexOf("/about") > -1) {
        // aboutbtn.style.textDecoration = 'underline';
        aboutbtn.firstElementChild.style.color = '#979797';
        gsap.set(".navmenu", {opacity:1, x:menuTarg});
        gsap.set(".openlines", {opacity:0});
        gsap.set(".closex", {opacity:1});
        burgOpen=false;
    }
    else if (CurrentUrl.indexOf("/contact") > -1) {
        // contactbtn.style.textDecoration = 'underline';
        contactbtn.firstElementChild.style.color = '#979797';
        gsap.set(".navmenu", {opacity:1, x:menuTarg});
        gsap.set(".openlines", {opacity:0});
        gsap.set(".closex", {opacity:1});
        burgOpen=false;
    }
    else{
        // homebtn.style.textDecoration = 'underline';
        homebtn.firstElementChild.style.color = '#979797';
        navwidth = document.getElementById('theMenu').clientWidth;
        gsap.set(".navmenu", {x:winWidth-navwidth, opacity:0});
    }
    
    

</script>
    <footer>
    <!-- <img src="../images/staticfooter2x.png" alt="footer"> -->
    <!-- <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@1,300&display=swap" rel="stylesheet"> -->

    <!-- <h5>thanks for stopping by.</h5> -->
    <div class="footbox">
        <div class="thanks">
            <img src="../images/footerthanks2o.svg" alt="" srcset="">
        </div>
    </div>
    <div class="bottomtext">
        <p><span>&copy;</span> EM DASH 2021</p>
    </div>
    <!-- <div class="bottom_forsubs">
        <img src="../images/footer_emdash2x.png" alt="em dash" id="f_emdash" srcset="">
        <img src="../images/copy_footer.png" alt="copyright 2021" id="f_copy" srcset="">
        <img src="../images/fullportfolio_footer.png" alt="portfolio available on request" id="f_full" srcset="">
        <img src="../images/justdots.png" alt="icon" id="f_icon" srcset="">
        
    </div> -->
</footer>

    <script>
         let topper = document.getElementById('topper');
        // .mainshow
        topper.classList.add("mainshow");
    </script>
</div>
</body>
</html>